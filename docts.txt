# My First App - Detailed Technical Documentation

## Overview

**My First App** is a personal productivity and discipline tracking application built with Flutter. It helps users build consistent daily habits through a structured system of checklists, focus sessions, reflections, and weekly reviews. The app emphasizes accountability and self-improvement through data tracking and visualization.

## Application Purpose

This app is designed for students and individuals who want to:
- Track daily discipline through systematic checklists
- Manage focused work sessions with a timer
- Practice daily reflection and self-awareness
- Review weekly progress and identify areas for improvement
- Maintain accountability through historical data visualization

---

## Application Architecture

### Technology Stack

1. **Framework**: Flutter (cross-platform mobile/desktop framework)
2. **State Management**: Provider pattern
3. **Local Database**: Hive (NoSQL local storage)
4. **Platform Support**: Android, iOS, Windows, Linux, macOS, Web

### Project Structure

```
lib/
├── app.dart                          # Root application widget
├── main.dart                         # Application entry point
├── core/
│   ├── constants/                    # App-wide constants
│   │   ├── app_colors.dart          # Color definitions
│   │   ├── app_strings.dart         # Text strings
│   │   └── app_dimensions.dart      # Spacing/sizing values
│   └── theme/
│       └── app_theme.dart           # Theme configuration
├── data/
│   ├── models/                      # Data models
│   │   ├── daily_log.dart           # Daily checklist model
│   │   ├── focus_session.dart       # Focus timer session model
│   │   ├── daily_reflection.dart    # Daily reflection model
│   │   ├── user_preferences.dart    # User settings model
│   │   └── user_profile.dart        # User profile model
│   └── local/
│       └── hive_service.dart        # Local database service
├── providers/                        # State management
│   ├── daily_log_provider.dart      # Daily log state
│   ├── focus_timer_provider.dart    # Focus timer state
│   ├── reflection_provider.dart     # Reflection state
│   ├── preferences_provider.dart    # Settings state
│   ├── theme_provider.dart          # Theme state
│   └── profile_provider.dart        # Profile state
├── screens/                          # UI screens
│   ├── home/                        # Main navigation
│   ├── checklist/                   # Daily systems checklist
│   ├── focus_timer/                 # Focus session timer
│   ├── reflection/                  # Daily reflection
│   ├── history/                     # Historical data view
│   ├── weekly_review/               # Weekly progress review
│   ├── settings/                    # App settings
│   └── profile/                     # User profile
└── widgets/                          # Reusable UI components
```

---

## Core Features

### 1. Daily Systems Checklist (ChecklistScreen)

**Purpose**: Track completion of daily discipline systems.

**How It Works**:
- Displays a checklist of daily tasks/systems
- Each item can be checked off when completed
- Data is stored in DailyLog model
- Managed by DailyLogProvider
- Automatically creates a new log for each day
- Shows progress for the current day

**User Actions**:
- Open the app (first tab by default)
- Check/uncheck items as you complete them
- View your completion progress for the day
- Access settings via the settings icon

### 2. Focus Timer (FocusTimerScreen)

**Purpose**: Track focused work sessions with a countdown timer.

**How It Works**:
- Allows users to start timed focus sessions
- Records session duration, category, and notes
- Stores sessions in FocusSession model
- Managed by FocusTimerProvider
- Tracks total daily focus time
- Supports different focus categories

**User Actions**:
- Navigate to Focus Timer tab (second tab)
- Select a focus category
- Start the timer
- Work until timer completes
- Add optional notes about the session
- View today's total focus time

### 3. Daily Reflection (ReflectionScreen)

**Purpose**: Encourage daily self-reflection and journaling.

**How It Works**:
- Prompts for daily reflection entries
- Stores reflections in DailyReflection model
- Managed by ReflectionProvider
- One reflection per day
- Tracks reflection streaks and completion rate

**User Actions**:
- Navigate to Reflection tab (third tab)
- Write your thoughts for the day
- Save the reflection
- View past reflections

### 4. History View (HistoryScreen)

**Purpose**: Visualize historical data and track progress over time.

**How It Works**:
- Displays contribution-style calendar graph
- Shows monthly charts and statistics
- Allows viewing details for specific days
- Aggregates data from all sources (logs, sessions, reflections)

**User Actions**:
- Navigate to History tab (fourth tab)
- View contribution graph showing daily activity
- Browse monthly charts
- Tap on specific days to see details
- Navigate between months

### 5. Weekly Review (WeeklyReviewScreen)

**Purpose**: Provide weekly insights and identify improvement areas.

**How It Works**:
- Calculates weekly consistency metrics
- Identifies strongest and weakest systems
- Shows discipline streaks
- Displays reflection completion rate
- Provides actionable insights

**User Actions**:
- Navigate to Weekly Review tab (fifth tab)
- Review weekly consistency percentage
- See which systems need attention
- Check discipline streak status
- Review reflection habits

---

## Data Storage System

### Database Technology: Hive

The app uses **Hive**, a lightweight NoSQL database that stores data locally on the device.

**Location**: 
- Android: App's application data directory
- iOS: App's documents directory
- Windows/Linux/macOS: App data directory
- Data persists between app sessions

### Data Models

#### 1. DailyLog
```dart
- date: DateTime           // The day this log represents
- systems: Map<String, bool>  // Checklist items and completion status
- completionRate: double   // Percentage of items completed
```

**Storage**: `daily_logs` box
**Key**: Date string (e.g., "2024-01-15")

#### 2. FocusSession
```dart
- startTime: DateTime      // When session started
- endTime: DateTime        // When session ended
- duration: int            // Duration in minutes
- category: FocusCategory  // Type of work (study, project, etc.)
- notes: String?           // Optional session notes
```

**Storage**: `focus_sessions` box
**Key**: Auto-generated unique ID

#### 3. DailyReflection
```dart
- date: DateTime           // Reflection date
- content: String          // Reflection text
- mood: int?               // Optional mood rating
```

**Storage**: `reflections` box
**Key**: Date string

#### 4. UserPreferences
```dart
- darkMode: bool           // Theme preference (always true currently)
- dailyReminder: bool      // Enable daily notifications
- reminderTimeMinutes: int // When to send reminder
- minimumViableDayEnabled: bool  // Quick access to MVD mode
- firstDayOfWeek: int      // Week start day (0=Sunday, 1=Monday)
```

**Storage**: `preferences` box
**Key**: 'user_prefs'

#### 5. UserProfile
```dart
- name: String             // User's name
- email: String?           // Optional email
- avatarUrl: String?       // Optional profile picture
- joinedDate: DateTime     // When user started
- totalFocusMinutes: int   // Lifetime focus time
- totalReflections: int    // Total reflections written
- currentStreak: int       // Current discipline streak
- longestStreak: int       // Longest streak achieved
```

**Storage**: `settings` box (generic storage)
**Key**: 'user_profile'

### Data Flow

1. **User Interaction** → UI Widget
2. **UI Widget** → Provider (state management)
3. **Provider** → HiveService (database operations)
4. **HiveService** → Hive Boxes (persistent storage)
5. **Hive Boxes** → Device Storage (files on disk)

**Example Flow** (Checking off a daily task):
```
ChecklistScreen → DailyLogProvider.toggleSystem()
                → HiveService.dailyLogs.put()
                → Writes to device storage
                → Notifies UI to update
                → UI refreshes with new state
```

---

## State Management (Provider Pattern)

The app uses the Provider package for state management. Each provider manages specific app functionality:

### DailyLogProvider
- Manages daily checklist state
- Creates/updates daily logs
- Calculates completion rates
- Provides historical data
- Tracks discipline streaks

### FocusTimerProvider
- Manages timer state (running, paused, stopped)
- Records focus sessions
- Calculates daily/weekly focus time
- Handles timer countdown logic

### ReflectionProvider
- Manages daily reflections
- Tracks reflection completion rate
- Provides access to past reflections

### PreferencesProvider
- Manages user settings
- Handles theme preferences
- Controls notification settings
- Manages app behavior preferences

### ThemeProvider
- Manages app theme (currently dark mode only)
- Could support light/dark mode switching in future

### ProfileProvider
- Manages user profile data
- Updates profile statistics
- Handles profile customization

---

## Application Initialization

When the app starts (lib/app.dart):

1. **Initialize Hive Database** via HiveService.init()
   - Initializes Flutter-specific Hive implementation
   - Registers all data model adapters
   - Opens all required boxes

2. **Set Up Providers** (MultiProvider wrapping)
   - Creates all provider instances
   - Establishes dependency injection

3. **Load Initial Data**
   - Each provider loads its data from Hive
   - Creates default data if none exists

4. **Display Home Screen** (HomeScreen)
   - Shows bottom navigation with 5 tabs
   - Defaults to Checklist screen

---

## Platform-Specific Components

### Windows
- Creates native Windows window
- Embeds Flutter view
- Window size: 1280x720 pixels
- Hosts Flutter engine

### Linux
- GTK-based application window
- Header bar for GNOME integration
- Window size: 1280x720 pixels
- Application ID: `com.example.my_first_app`

### iOS
- Flutter View Controller as root
- Standard iOS integration

### Android
- Standard Flutter Android setup
- Material Design integration

---

## User Guide

### Getting Started

1. **First Launch**
   - App creates default profile with name "Student"
   - Initializes empty data structures
   - Shows daily checklist

2. **Daily Routine**
   - **Morning**: Check items as you complete daily systems
   - **During Day**: Use Focus Timer for work sessions
   - **Evening**: Write daily reflection
   - **Weekly**: Review Weekly Review tab for insights

### Features in Detail

#### Daily Checklist
- Location: First tab (home icon)
- Shows systems to complete today
- Tap checkboxes to mark complete/incomplete
- View completion percentage at top
- Changes persist automatically

#### Focus Timer
- Location: Second tab (timer icon)
- Select focus category (study, work, project, etc.)
- Tap start to begin session
- Timer counts down
- Session auto-saves when complete
- View total daily focus time

#### Reflection
- Location: Third tab (book icon)
- Write thoughts about your day
- Optional mood rating
- Saves automatically
- View past reflections

#### History
- Location: Fourth tab (calendar icon)
- Contribution graph shows activity over time
- Darker colors = more activity
- Tap days for detailed view
- Navigate months with arrows
- View monthly statistics

#### Weekly Review
- Location: Fifth tab (chart icon)
- Weekly consistency percentage
- System-by-system breakdown
- Weakest system identification
- Discipline streak tracking
- Reflection completion rate

### Settings

Access via gear icon in Checklist screen:

- **App Info**: Version and about information
- **Appearance**: Theme settings (currently dark mode only)
- **Notifications**: Daily reminder toggle and time
- **First Day of Week**: Calendar preference
- **Minimum Viable Day**: Quick access toggle
- **Profile**: Edit user information

---

## Data Persistence

### What Gets Saved
- ✅ All checklist completions
- ✅ All focus sessions
- ✅ All reflections
- ✅ User preferences
- ✅ Profile statistics
- ✅ Historical data

### When Data Saves
- Automatically on every change
- No manual save required
- Persists between app sessions
- Survives app closes/restarts

### Data Location
- Stored locally on device only
- Not synced to cloud
- Private to the user
- Accessible only through the app

---

## Technical Details

### Build System
- **Windows**: CMake build (windows/CMakeLists.txt)
- **Linux**: CMake build (linux/CMakeLists.txt)
- **Android**: Gradle build
- **iOS**: Xcode build

### Dependencies
- Listed in pubspec.yaml
- Flutter SDK
- Hive & hive_flutter for storage
- Provider for state management
- Platform-specific dependencies

### Code Quality
- Dart analyzer configuration in analysis_options.yaml
- Flutter lints enabled
- Follows Flutter best practices

---

## Troubleshooting

### Data Not Saving
- Check storage permissions
- Ensure Hive initialized properly
- Check for errors in debug console

### Performance Issues
- Hive is optimized for performance
- Large data sets handled efficiently
- Consider clearing old data if needed

### UI Not Updating
- Provider should notify listeners automatically
- Check provider wrapping in widget tree
- Verify Consumer widgets are used correctly

---

## Future Enhancements

Based on the codebase structure:
- Cloud sync capability
- Data export/backup
- Light theme support
- Custom checklist items
- Goal setting features
- Social features/accountability partners

---

## Summary

**My First App** is a comprehensive personal discipline tracking system that helps users build consistent daily habits through:
- Systematic daily checklists
- Focused work session tracking
- Daily reflection practice
- Historical progress visualization
- Weekly performance reviews

All data is stored locally using Hive database, with automatic persistence and efficient retrieval. The app uses the Provider pattern for clean state management and supports multiple platforms through Flutter's cross-platform capabilities.
